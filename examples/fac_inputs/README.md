# FAC Input Files (.sf)

This directory contains example SFAC input files generated by atomkit's FAC wrapper.

## What are .sf files?

SFAC (Script FAC) files are input scripts for the Flexible Atomic Code (FAC). They contain:
- Atomic structure definitions
- Configuration specifications
- Calculation instructions (energy levels, transitions, cross sections, etc.)

## Generated Examples

### 1. `fe17_structure.sf` - Basic Structure Calculation
**Element:** Fe XVII (Ne-like Iron)  
**Calculation:** Energy levels and radiative transitions between n=2 and n=3 complexes  
**Execute:**
```bash
sfac fe17_structure.sf
```

### 2. `fe24_autoionization.sf` - Autoionization Calculation
**Element:** Fe XXIV (Li-like Iron)  
**Calculation:** Autoionization rates from doubly-excited states  
**Features:** QED corrections (Breit, self-energy)  
**Execute:**
```bash
sfac fe24_autoionization.sf
```

### 3. `cu_photoionization.sf` - Parallel MPI Calculation
**Element:** Cu I (Copper)  
**Calculation:** Photoionization cross sections  
**Features:** MPI parallelization for large-scale calculations  
**Execute:**
```bash
mpirun -n 24 sfac cu_photoionization.sf
```

## Important Note: MemENTable

All structure calculations include the **`MemENTable`** command after `Structure`:

```python
Structure('file.lev.b', ['group1', 'group2'])
MemENTable('file.lev.b')  # ← CRITICAL: Loads energy table into memory
PrintTable('file.lev.b', 'file.lev.asc', 1)
```

**Why is this important?**
- `MemENTable` loads the calculated energy levels into memory
- This is required for subsequent calculations (transitions, collision strengths, etc.)
- Without it, FAC cannot properly calculate transitions or other processes
- Always include it after `Structure` calls before any dependent calculations

## Regenerating These Files

These files are generated by running:
```bash
cd /home/rfsilva/atomkit/examples
python fac_wrapper_demo.py
```

## File Format

SFAC files are plain text Python-like syntax:
- Function calls: `FunctionName(arguments)`
- Strings: Single quotes `'string'`
- Lists: Python list notation `['item1', 'item2']`
- Comments: Python-style `#` comments

## Version Control

These `.sf` files can be safely committed to git:
- ✅ Plain text format
- ✅ Human-readable
- ✅ Can be edited manually if needed
- ✅ Useful as templates for similar calculations

## Output Files

When executed, FAC will generate:
- `.lev.b` - Binary energy level files
- `.lev.asc` - ASCII energy level files
- `.tr.b` - Binary transition files
- `.tr.asc` - ASCII transition files
- `.ai.b` / `.ai.asc` - Autoionization rate files
- `.rr.b` / `.rr.asc` - Radiative recombination files

## Further Reading

- [FAC Manual](http://github.com/flexible-atomic-code/fac)
- [atomkit FAC Wrapper Documentation](../src/atomkit/fac/README.md)
- [atomkit Examples](../README.md)
